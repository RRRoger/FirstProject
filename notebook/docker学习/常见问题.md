## 1. mac å®‰è£…dockerï¼Œè¿è¡Œå®¹å™¨ç«‹å³å°±å…³é—­äº†ã€‚ã€‚ã€‚

> https://www.huaweicloud.com/articles/09e19edff1df54ebb6001b34ff30b27a.html
>
> https://blog.csdn.net/u013091013/article/details/70577730
>
> é—®é¢˜: ä½¿ç”¨docker runåˆ›å»ºå®¹å™¨ åˆ›å»ºäº†å°±å…³é—­äº† ä¹Ÿè¿›ä¸å»
>
> è§£å†³: `docker run -it`  

```bash
# æ·»åŠ å‚æ•° -it
docker run -it --name my_centos -d centos:latest /bin/bash
```

## 2. MAC '/var/lib/docker' è·¯å¾„æ‰¾ä¸åˆ°

#### æ–¹æ¡ˆä¸€:

```bash
# å…ˆæ‰§è¡Œ
screen ~/Library/Containers/com.docker.docker/Data/vms/0/tty

# ä¹‹åå°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªç›®å½•
cd /var/lib/docker
```

#### æ–¹æ¡ˆäºŒ:

> ä½†æ˜¯æˆ‘å‘ç°æ–¹æ¡ˆä¸€æ ¹æœ¬ä¸ç®¡ç”¨; çœ‹äº†ä¸‹é¢çš„æ–¹æ¡ˆ
>
> https://gist.github.com/BretFisher/5e1a0c7bcca4c735e716abf62afad389

```bash
# æ‰§è¡Œå‘½ä»¤
docker run -it --rm --privileged --pid=host justincormack/nsenter1

# è¿›å…¥ä¸€ä¸ªæ–°çš„ç»ˆç«¯ å°±å¯ä»¥çœ‹åˆ°dockerç›®å½•äº†
cd /var/lib/docker
```

## 3. Docker Push å³ä½¿ç™»é™†æˆåŠŸä¹Ÿæ˜¯æŠ¥é”™

> **denied: requested access to the resource is denied**
>
> å¯èƒ½çš„åŸå› æ˜¯ä½ çš„`Image_Name`é‡Œé¢å«æœ‰æ–œæ (`/`)

```bash
# ä¹‹å‰æˆ‘çš„é•œåƒå«åš `learn/ping` é‡Œé¢å«æœ‰æ–œæ 
# å¯èƒ½ä¼špushåˆ°åˆ«äººçš„repoé‡Œ, æ‰€ä»¥ä¼šæŠ¥é”™

# ç„¶åæˆ‘çš„æ“ä½œ
docker tag learn/ping golrd/learn/ping
docker push golrd/learn/ping
```

- ä¾ç„¶æŠ¥é”™ **denied: requested access to the resource is denied**

```bash
# äºæ˜¯æˆ‘æƒ³æ˜¯ä¸æ˜¯æ–œæ çš„é—®é¢˜
docker tag learn/ping golrd/learn_ping
docker push golrd/learn_ping
```

- æ¥ä¸‹æ¥å°±æˆåŠŸäº†ğŸ˜„

## 4. ä¿®æ”¹å®¹å™¨æŒ‚è½½ç›®å½•

### æ–¹æ¡ˆ1ã€ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆéœ€åœæ­¢dockeræœåŠ¡ï¼‰

1ã€åœæ­¢dockeræœåŠ¡

```bash
# ï¼ˆå…³é”®ï¼Œä¿®æ”¹ä¹‹å‰å¿…é¡»åœæ­¢dockeræœåŠ¡ï¼‰
systemctl stop docker.service
```

2ã€ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç›®å½•ä½ç½®ï¼Œç„¶åä¿å­˜é€€å‡º

```bash
vim /var/lib/docker/containers/container-ID/config.v2.json
```

3ã€å¯åŠ¨dockeræœåŠ¡

```bash
systemctl start docker.service
```

4ã€å¯åŠ¨dockerå®¹å™¨

```bash
docker start <container-name/ID>
```

### æ–¹æ¡ˆ2ã€æäº¤å®¹å™¨, é‡æ–°è¿è¡Œ

1ã€æäº¤å®¹å™¨

```bash
docker commit -a "user" -m "commit info" [CONTAINER] [imageName]:[imageTag]
```

2ã€é‡æ–°è¿è¡Œ

```bash
docker run -it --name my_centos3 -v [DIR_NAME1]:[DIR_NAME2] -d centos:latest /bin/bash
```